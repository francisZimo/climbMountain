<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<meta charset="utf-8">
	<title>路由菜单递归获取path</title>
	<meta name="keywords" content="">
	<meta name="description" content="">
	<script src="./js/jquery-1.8.3.min.js"></script>
</head>
<body>


</body>
<script>
var asyncRoutes = [

    {
        id: '001_000_000',
        path: '/system',
        redirect: '/system/dept',
        name: 'system',
        meta: {
            title: '机构用户',
            icon: 'system'
        },
        children: [

            {
                id: '001_001_000',
                path: 'dept',
                component: () =>
                    import ('@/views/dept/index'),
                //name必须和组件name对应 否则缓存有问题！
                name: 'dept',
                meta: {
                    title: '机构管理',
                    icon: 'dept',
                    roles: ['ROLE_ADMIN']
                }
            },

            {
                id: '001_002_000',
                path: 'user',
                component: () =>
                    import ('@/views/user/index'),
                //name必须和组件name对应 否则缓存有问题！
                name: 'user',
                meta: {
                    title: '用户管理',
                    icon: 'user',
                    roles: ['ROLE_ADMIN']
                }
            },

            {
                id: '001_003_000',
                path: 'role',
                component: () =>
                    import ('@/views/role/index'),
                //name必须和组件name对应 否则缓存有问题！
                name: 'role',
                meta: {
                    title: '角色管理',
                    icon: 'role',
                    roles: ['ROLE_ADMIN']
                }
            },
            {
                id: '001_004_000',
                path: 'duties',
                component: () =>
                    import ('@/views/duties/index'),
                //name必须和组件name对应 否则缓存有问题！
                name: 'duties',
                meta: {
                    title: '岗位管理',
                    icon: 'page-number',
                    roles: ['ROLE_ADMIN']
                }
            },


        ]
    },

    {
        id: '002_000_000',
        path: '/systermSet',
        redirect: '/systermSet/configurat',
        name: 'systermSet',
        meta: {
            title: '系统设置',
            icon: 'drag'
        },
        children: [
            {
                id: '002_001_000',
                path: 'Resources',
                component: () =>
                    import ('@/views/Resources/index'),
                //name必须和组件name对应 否则缓存有问题！
                name: 'Resources',
                meta: {
                    title: '资源管理',
                    icon: 'cube',
                    roles: ['ROLE_ADMIN']
                }
            },
            {
                id: '002_002_000',
                path: 'sysGholidy',
                component: () =>
                    import ('@/views/sysGholidy/index'),
                //name必须和组件name对应 否则缓存有问题！
                name: 'sysGholidy',
                meta: {
                    title: '国家节假日',
                    icon: 'page-number',
                    roles: ['ROLE_ADMIN']
                }
            },

            {
                id: '002_003_000',
                path: 'sysDatasourceTemp',
                component: () =>
                    import ('@/views/sysDatasourceTemp/index'),
                //name必须和组件name对应 否则缓存有问题！
                name: 'sysDatasourceTemp',
                meta: {
                    title: '系统数据源模板',
                    icon: 'page-bm',
                    roles: ['ROLE_ADMIN']
                }
            },

            {
                id: '002_004_000',
                path: 'sysDatadictionary',
                component: () =>
                    import ('@/views/sysDatadictionary/index'),
                //name必须和组件name对应 否则缓存有问题！
                name: 'sysDatadictionary',
                meta: {
                    title: '数据字典',
                    icon: 'datasource',
                    roles: ['ROLE_ADMIN']
                }
            },

            {
                id: '002_005_000',
                path: 'sysAttributeManage',
                component: () =>
                    import ('@/views/sysAttributeManage/index'),
                //name必须和组件name对应 否则缓存有问题！
                name: 'sysAttributeManage',
                meta: {
                    title: '系统属性管理',
                    icon: 'field',
                    roles: ['ROLE_ADMIN']
                }
            },

            {
                id: '002_006_000',
                path: 'sysDatasource',
                component: () =>
                    import ('@/views/sysDatasource/index'),
                //name必须和组件name对应 否则缓存有问题！
                name: 'sysDatasource',
                meta: {
                    title: '系统数据源',
                    icon: 'field',
                    roles: ['ROLE_ADMIN']
                }
            },

            {
                id: '002_007_000',
                path: 'sysBenchManage',
                component: () =>
                    import ('@/views/sysBenchManage/index'),
                //name必须和组件name对应 否则缓存有问题！
                name: 'sysBenchManage',
                meta: {
                    title: '工作台管理',
                    icon: 'clipboard',
                    roles: ['ROLE_ADMIN']
                }
            }


        ]
    },

    {
        id: '003_000_000',
        path: '/developAssis',
        redirect: '/developAssis/deveSerialnum',
        name: 'developAssis',
        meta: {
            title: '开发辅助',
            icon: 'documentation'
        },
        children: [

            {
                id: '003_001_000',
                path: 'deveSerialnum',
                component: () =>
                    import ('@/views/deveSerialnum/index'),
                //name必须和组件name对应 否则缓存有问题！
                name: 'deveSerialnum',
                meta: {
                    title: '流水号',
                    icon: 'actualSize',
                    roles: ['ROLE_ADMIN']
                }
            },

            {
                id: '003_002_000',
                path: 'descriptUsed',
                component: () =>
                    import ('@/views/descriptUsed/index'),
                //name必须和组件name对应 否则缓存有问题！
                name: 'descriptUsed',
                meta: {
                    title: '常用脚本',
                    icon: 'encoding',
                    roles: ['ROLE_ADMIN']
                }
            },

            {
                id: '003_003_000',
                path: 'deCustomDialogBox',
                component: () =>
                    import ('@/views/deCustomDialogBox/index'),
                //name必须和组件name对应 否则缓存有问题！
                name: 'deCustomDialogBox',
                meta: {
                    title: '自定义对话框',
                    icon: 'link',
                    roles: ['ROLE_ADMIN']
                }
            },

            {
                id: '003_004_000',
                path: 'deSystemTree',
                component: () =>
                    import ('@/views/deSystemTree/index'),
                //name必须和组件name对应 否则缓存有问题！
                name: 'deSystemTree',
                meta: {
                    title: '系统分类',
                    icon: 'flow',
                    roles: ['ROLE_ADMIN']
                }
            },

            {
                id: '003_005_000',
                path: 'deAbnormalog',
                component: () =>
                    import ('@/views/deAbnormalog/index'),
                //name必须和组件name对应 否则缓存有问题！
                name: 'deAbnormalog',
                meta: {
                    title: '异常日志',
                    icon: 'entityTable',
                    roles: ['ROLE_ADMIN']
                }
            },

            {
                id: '003_006_000',
                path: 'deFontIcon',
                component: () =>
                    import ('@/views/svg-icons/index'),
                //name必须和组件name对应 否则缓存有问题！
                name: 'Icons',
                meta: {
                    title: '字体图标',
                    icon: 'icon',
                    roles: ['ROLE_ADMIN']
                }
            }

        ]
    },

    {
        id: '004_000_000',
        path: '/workflow',
        name: 'workflow',
        meta: {
            title: '工作流管理',
            icon: 'workflow'
        },
        children: [{
                id: '004_001_000',
                path: 'model',
                name: 'model',
                children: [{
                    id: '004_001_001',
                    path: document.location.protocol + '//' + window.location.host + '/model.html',
                    meta: {
                        title: '业务实体定义',
                        roles: ['ROLE_ADMIN'],
                        icon: 'model'
                    }
                }]
            },
            {
                id: '004_002_000',
                path: 'businessObject',
                name: 'businessObject',
                children: [{
                    id: '004_002_001',
                    path: document.location.protocol + '//' + window.location.host + '/businessObject.html',
                    meta: {
                        title: '业务对象定义',
                        roles: ['ROLE_ADMIN'],
                        icon: 'model'
                    }
                }]
            },
            {
                id: '004_004_000',
                path: 'page-edit-list-new',
                component: () =>
                    import ('@/views/pageEdit_new/index'),
                name: 'pageEdit_new',
                meta: {
                    title: '表单列表',
                    icon: 'page',
                    roles: ['ROLE_ADMIN'],
                    //暂时不缓存 后续修改
                    noCache: true
                }
            },
            {
                id: '004_005_000',
                path: 'newFlow',
                component: () =>
                    import ('@/views/flow/index'),
                name: 'flow',
                meta: {
                    title: '流程定义',
                    icon: 'flow',
                    roles: ['ROLE_ADMIN'],
                    //暂时不缓存 后续修改
                    noCache: true
                }
            },
            {
                id: '004_006_000',
                path: 'task',
                component: () =>
                    import ('@/views/task/index'),
                name: 'flow',
                meta: {
                    title: '任务列表',
                    icon: 'flow',
                    roles: ['ROLE_ADMIN'],
                    //暂时不缓存 后续修改
                    noCache: true
                }
            },
            {
                id: '004_007_000',
                path: 'flowCase',
                component: () =>
                    import ('@/views/flowCase/index'),
                name: 'flow',
                meta: {
                    title: '流程实例',
                    icon: 'flow',
                    roles: ['ROLE_ADMIN'],
                    //暂时不缓存 后续修改
                    noCache: true
                }
            },
            {
                id: '004_008_000',
                path: 'start-flow',
                component: () =>
                    import ('@/views/bpm/flow/startFlow.vue'),
                name: 'start-flow',
                meta: {
                    title: '发起申请',
                    icon: 'page-yj',
                    //暂时不缓存 后续修改
                    noCache: true
                }
            },

        ]
    },
    {
        id: '005_000_000',
        path: '/businessModeling',
        name: 'businessModeling',
        meta: {
            title: '业务建模',
            icon: 'workflow'
        },
        children: []
    },
    {
        id: '006_000_000',
        path: '/ProcessDevelopment',
        name: 'ProcessDevelopment',
        meta: {
            title: '流程开发',
            icon: 'workflow'
        },
        children: []
    },
    {
        id: '005_000_000',
        path: '*',
        redirect: '/404',
        hidden: true
    }
]
var path_need='';
var path_get='dept';
v1(asyncRoutes,path_get);
//第二版，双重递归遍历，支持跨级顺序改变
function v1(arr, path,path_add) {
    for (var i = 0; i < arr.length; i++) { //循环arr，为所有元素找到compent
        if (arr[i].path===path) {//如果arr[i]有path等于obj.path结束
            path_need=path_add+arr[i].path;
            console.log(path_need);
            break
        };
        if (arr[i].children && arr[i].children.length > 0) { //如果有子集
            let path_string=''
            if (path_add) {//如果有path_add
                path_string=path_add+arr[i].path+'/';
            } else{
                path_string=arr[i].path+'/';
            };
            
            v1(arr[i].children, path,path_string); //看子集中有无对应path
        };
    };
}
</script>
</html>